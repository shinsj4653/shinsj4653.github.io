{"version":3,"file":"component---src-pages-posts-tsx-97124a949848bef44921.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/posts.tsx"],"sourcesContent":["import React, { FunctionComponent, useMemo, useState } from 'react'\nimport styled from '@emotion/styled'\nimport { graphql } from 'gatsby'\nimport { PostListItemType } from 'types/PostItem.types'\nimport queryString, { ParsedQuery } from 'query-string'\nimport Template from 'components/Common/Template'\nimport Header from 'components/Common/Header'\nimport Footer from 'components/Common/Footer'\nimport PostItem from 'components/Main/PostItem'\nimport SearchBar from 'components/Main/SearchBar'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n`\n\nconst MainContent = styled.main`\n  flex: 1;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 60px 24px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    padding: 40px 20px;\n  }\n`\n\nconst PageTitle = styled.h1`\n  font-size: 32px;\n  font-weight: 700;\n  color: var(--text-primary);\n  margin-bottom: 8px;\n`\n\nconst PageDescription = styled.p`\n  font-size: 16px;\n  color: var(--text-secondary);\n  margin-bottom: 32px;\n`\n\nconst CategoryTabs = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 32px;\n  flex-wrap: wrap;\n`\n\nconst CategoryTab = styled.button<{ active: boolean }>`\n  padding: 8px 16px;\n  border-radius: 20px;\n  font-size: 14px;\n  font-weight: 500;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background-color: ${({ active }) => (active ? 'var(--text-primary)' : 'var(--bg-secondary)')};\n  color: ${({ active }) => (active ? 'var(--bg-primary)' : 'var(--text-secondary)')};\n\n  &:hover {\n    background-color: ${({ active }) => (active ? 'var(--text-primary)' : 'var(--bg-tertiary)')};\n  }\n\n  body.dark & {\n    background-color: ${({ active }) => (active ? 'var(--text-primary)' : 'var(--bg-secondary)')};\n    color: ${({ active }) => (active ? 'var(--bg-primary)' : 'var(--text-secondary)')};\n  }\n`\n\nconst SearchWrapper = styled.div`\n  margin-bottom: 24px;\n`\n\nconst PostListWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`\n\nconst Placeholder = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  font-size: 16px;\n  color: var(--text-secondary);\n  background-color: var(--bg-secondary);\n  border-radius: 12px;\n`\n\ntype PostsPageProps = {\n  location: {\n    search: string\n  }\n  data: {\n    site: {\n      siteMetadata: {\n        title: string\n        description: string\n        siteUrl: string\n      }\n    }\n    allMarkdownRemark: {\n      edges: PostListItemType[]\n    }\n    file: {\n      publicURL: string\n    }\n  }\n}\n\nconst PostsPage: FunctionComponent<PostsPageProps> = function ({\n  location: { search },\n  data: {\n    site: {\n      siteMetadata: { title, description, siteUrl },\n    },\n    allMarkdownRemark: { edges },\n    file: { publicURL },\n  },\n}) {\n  const parsed: ParsedQuery<string> = queryString.parse(search)\n  const [selectedCategory, setSelectedCategory] = useState<string>(\n    typeof parsed.category === 'string' ? parsed.category : 'All'\n  )\n  const [searchKeyword, setSearchKeyword] = useState('')\n\n  const categoryList = useMemo(\n    () =>\n      edges.reduce(\n        (\n          list: { [key: string]: number },\n          {\n            node: {\n              frontmatter: { categories },\n            },\n          }: PostListItemType,\n        ) => {\n          categories.forEach(category => {\n            if (list[category] === undefined) list[category] = 1\n            else list[category]++\n          })\n          list['All']++\n          return list\n        },\n        { All: 0 },\n      ),\n    [edges],\n  )\n\n  const filteredPosts = useMemo(() => {\n    return edges.filter(({ node: { frontmatter } }) => {\n      const { title, summary, categories } = frontmatter\n      const matchesCategory = selectedCategory === 'All' || categories.includes(selectedCategory)\n      const matchesSearch = \n        title.toLowerCase().includes(searchKeyword.toLowerCase()) ||\n        summary.toLowerCase().includes(searchKeyword.toLowerCase()) ||\n        categories.join('').toLowerCase().includes(searchKeyword.toLowerCase())\n      return matchesCategory && matchesSearch\n    })\n  }, [edges, selectedCategory, searchKeyword])\n\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchKeyword(event.target.value)\n  }\n\n  return (\n    <Template\n      title={`글 | ${title}`}\n      description={description}\n      url={`${siteUrl}/posts`}\n      image={publicURL}\n    >\n      <Container>\n        <Header />\n        <MainContent>\n          <PageTitle>Posts</PageTitle>\n          <PageDescription>카테고리별 글 모음</PageDescription>\n\n          <CategoryTabs>\n            {Object.entries(categoryList).map(([name]) => (\n              <CategoryTab\n                key={name}\n                active={name === selectedCategory}\n                onClick={() => setSelectedCategory(name)}\n              >\n                {name === 'All' ? '전체' : name}\n              </CategoryTab>\n            ))}\n          </CategoryTabs>\n\n          <SearchWrapper>\n            <SearchBar value={searchKeyword} onChange={handleSearchChange} />\n          </SearchWrapper>\n\n          <PostListWrapper>\n            {filteredPosts.length > 0 ? (\n              filteredPosts.map(\n                ({\n                  node: {\n                    id,\n                    fields: { slug },\n                    frontmatter,\n                  },\n                }) => (\n                  <PostItem {...frontmatter} link={slug} key={id} />\n                ),\n              )\n            ) : (\n              <Placeholder>검색 결과가 존재하지 않습니다.</Placeholder>\n            )}\n          </PostListWrapper>\n        </MainContent>\n        <Footer />\n      </Container>\n    </Template>\n  )\n}\n\nexport default PostsPage\n\nexport const getPostList = graphql`\n  query getPostsPageList {\n    site {\n      siteMetadata {\n        title\n        description\n        siteUrl\n      }\n    }\n    allMarkdownRemark(\n      sort: { order: DESC, fields: [frontmatter___date, frontmatter___title] }\n    ) {\n      edges {\n        node {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            summary\n            date(formatString: \"YYYY.MM.DD.\")\n            categories\n            thumbnail {\n              childImageSharp {\n                gatsbyImageData(width: 768, height: 400)\n              }\n            }\n          }\n        }\n      }\n    }\n    file(name: { eq: \"profile-image\" }) {\n      publicURL\n    }\n  }\n`\n\n"],"names":["Container","target","name","styles","MainContent","PageTitle","PageDescription","CategoryTabs","CategoryTab","_ref","active","_ref2","_ref3","_ref4","_ref5","SearchWrapper","PostListWrapper","Placeholder","location","search","data","site","siteMetadata","title","description","siteUrl","allMarkdownRemark","edges","file","publicURL","_ref6","parsed","queryString","selectedCategory","setSelectedCategory","useState","category","searchKeyword","setSearchKeyword","categoryList","useMemo","reduce","list","node","frontmatter","categories","_ref7","forEach","undefined","All","filteredPosts","filter","_ref8","summary","matchesCategory","includes","matchesSearch","toLowerCase","join","___EmotionJSX","Template","url","image","Header","Object","entries","map","_ref9","key","onClick","SearchBar","value","onChange","event","length","_ref10","id","fields","slug","PostItem","link","Footer"],"sourceRoot":""}