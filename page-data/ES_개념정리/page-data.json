{"componentChunkName":"component---src-templates-post-template-tsx","path":"/ES_개념정리/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"tableOfContents":"<ul>\n<li>\n<p><a href=\"#elasticsearch\">ElasticSearch</a></p>\n<ul>\n<li>\n<p><a href=\"#1-apache-lucene\">1. Apache Lucene</a></p>\n<ul>\n<li><a href=\"#%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84\">검색엔진</a></li>\n<li><a href=\"#lucene-%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84\">Lucene 검색엔진</a></li>\n<li><a href=\"#lucene%EC%9D%98-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%84%B1%EB%8F%84\">Lucene의 시스템 구성도</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-es-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0\">2. ES 시스템 및 데이터 구조</a></p>\n<ul>\n<li><a href=\"#rdb%EC%99%80%EC%9D%98-%ED%95%B5%EC%8B%AC-%EC%B0%A8%EC%9D%B4\">RDB와의 핵심 차이</a></li>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%8B%A8%EC%9C%84\">기본적인 시스템 단위</a></li>\n<li><a href=\"#shard\">Shard</a></li>\n<li><a href=\"#es-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\">ES 데이터 활용하기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0%EB%A7%81%ED%81%AC\">참고링크</a></p>\n</li>\n</ul>","html":"<p>데이터 포털의 <code class=\"language-text\">메타 데이터 검색</code> 기능 고도화를 위해, 여러 데이터 노드에 분산 저장해서 빠르게 검색하고 분석하는 Document Database 형태를 갖출 수 있는 <code class=\"language-text\">ElasticSearch</code>를 사용하기로 하였다.</p>\n<h1 id=\"elasticsearch\" style=\"position:relative;\">ElasticSearch<a href=\"#elasticsearch\" aria-label=\"elasticsearch permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<h2 id=\"1-apache-lucene\" style=\"position:relative;\">1. Apache Lucene<a href=\"#1-apache-lucene\" aria-label=\"1 apache lucene permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>ES는 <code class=\"language-text\">Apache Lucene</code>을 기반으로 만들어진 <code class=\"language-text\">분산 검색 엔진</code>이다. 루씬은 자바 언어로 개발된 오픈소스 정보 검색 라이브러리이다.</p>\n<h3 id=\"검색엔진\" style=\"position:relative;\">검색엔진<a href=\"#%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84\" aria-label=\"검색엔진 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ul>\n<li>예전에 www 가 생기고 나서, 인터넷의 출현은 많은 정보를 얻을 수 있게 되었다. 하지만, 이 정보들을 찾는 것은 매우 어려운 일이었다. 이러한 문제를 해결하기 위해 검색엔진이 등장하게 되었다. 검색엔진은 사용자가 원하는 정보를 찾아주는 역할을 한다. 검색엔진은 <code class=\"language-text\">스크래핑, 크롤링</code> 기술과 연관이 깊다.</li>\n</ul>\n<h3 id=\"lucene-검색엔진\" style=\"position:relative;\">Lucene 검색엔진<a href=\"#lucene-%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84\" aria-label=\"lucene 검색엔진 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ul>\n<li>루씬은 고성능 정보 검색 IR(Information retrieval) 라이브러리다. IR은 문서를 검색하거나, 문서와 연관된 메타 정보를 검색하는 과정이다.</li>\n<li>검색엔진은 링크와 텍스트 인식 베이스이다. 크롤러가 방문한 웹 페이지에서 새로운 링크를 발견하면 웹 서버에 데이터 정보를 요청하고 이때 웹 서버는 검색엔진에게 웹 페이지 정보를 보내는데 이것이 바로 <code class=\"language-text\">메타태그가 포함된 사이트 정보</code>이다.</li>\n</ul>\n<h3 id=\"lucene의-시스템-구성도\" style=\"position:relative;\">Lucene의 시스템 구성도<a href=\"#lucene%EC%9D%98-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%84%B1%EB%8F%84\" aria-label=\"lucene의 시스템 구성도 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 675px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4a68abd451009ba22a095e500245e09e/a0bb6/image-7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABsElEQVQ4y52TR44CQQxF6+LcgDuwZc1FEBuERM4ZmpwxepZ+q+jp0UhTknG1v/2dimD/PKvVykajkQ0GA+t2u64Xi4WFy+Vix+PRTqeTHQ4Hl/1+n2oEDB8J38Ph0Pr9vrXbbWu1Wn6fTCYWRILTdru15XLpmdDIer12EvlxT5LEE1ElGpsKC/yoIghxRnDe7XZukw/6fD6nlZNYMfIJ/MxmM2s2m7bZbNxIVYgIx+OxdTqdtF0EX3Bi1aETwj6fz32wZMTILLARQCDfDF1BjIIZ8q2O1KXPEAPBqhay6XTqd2GIfBuNhmNUjGYhvV7PsaA2mI3mA0AV3LEJR2NnsyQkiRbIiBjP11L0VADVfmzXhtWFOoJIzyu8Xi97PB4u9/s93TaE3Kns+Xx+4Voa8+W5wAExlYbsP0BbBeTpEMB5v98eCJFwSK7Xq+OQgwUcY9Hj1TxFGP/lhON7u92+cCdUBToip1UIqVrvDaK4gNgfCXlEcQJaKpVKVigUrFar5SaP9Y8K87KXy2UrFotWr9fdxizz/P5sWbZqtWqVSsVbz3aSPbmE2XY4PJvf/GLCD2JKGwWmiN/gAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4a68abd451009ba22a095e500245e09e/a59e9/image-7.webp 192w,\n/static/4a68abd451009ba22a095e500245e09e/0ca9f/image-7.webp 384w,\n/static/4a68abd451009ba22a095e500245e09e/e85ae/image-7.webp 675w\"\n              sizes=\"(max-width: 675px) 100vw, 675px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4a68abd451009ba22a095e500245e09e/3b721/image-7.png 192w,\n/static/4a68abd451009ba22a095e500245e09e/66595/image-7.png 384w,\n/static/4a68abd451009ba22a095e500245e09e/a0bb6/image-7.png 675w\"\n            sizes=\"(max-width: 675px) 100vw, 675px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4a68abd451009ba22a095e500245e09e/a0bb6/image-7.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>자료수집을 크롤링이라 하고, 그렇게 모여지고 이미 색인된 데이터를 사용자가 Query 한다.</li>\n<li>이 <code class=\"language-text\">자료수집</code>의 본집은 ES로 가면서 데이터(JSON Document)를 인덱싱해서 여러 데이터 노드에 분산 저장해서 빠르게 검색하고 분석하는 Document Database 면모로 갖춰지게 되었다.</li>\n</ul>\n<h2 id=\"2-es-시스템-및-데이터-구조\" style=\"position:relative;\">2. ES 시스템 및 데이터 구조<a href=\"#2-es-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0\" aria-label=\"2 es 시스템 및 데이터 구조 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"rdb와의-핵심-차이\" style=\"position:relative;\">RDB와의 핵심 차이<a href=\"#rdb%EC%99%80%EC%9D%98-%ED%95%B5%EC%8B%AC-%EC%B0%A8%EC%9D%B4\" aria-label=\"rdb와의 핵심 차이 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 675px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5e23e36930553541aa8aee4cd0b84431/a0bb6/image-8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.22916666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACKElEQVQ4y42U7U/TUBTG95f6VWP8pDGSGP8BP5uoRA0xJERePiBbjICsTMDCtpZtbIxtsDfYuo0UWLAt7Xp/pu06GMHASZ705OQ5zz33nnMaEULg4S67GQ95d1Fd9zoeCYPp5A7F/TyZXYVsRsW2jDGhG8f4vG15CzWd4rTbGcU9XsRxBX0LpK00spL3sZnM0j23sN2A6JnlCC5MODcFqWyRhKyQkFUqDY1LGy4tN6iwpgseTx3xOmbyZhleLvR4PlPlyXSLzepgJCiVLB5Nlng6VebVksFE7IoXsy0mohbPFkw+y1YgeGbCJ6nN9B+daAG+bvSY3jplXrWp6dcVNvQBS2qf9fIAqTRg7cBhSTkjqp4zs6mx27QDQcMGpW6QObYo9mC3aZLXXPId0A0xep9OH1JNUJqQbgiUY4gmWyxuN5jbqFE4scKmjD/4bd8dNqRxJojlTKSKQKrA6oFDfOjHD2FPC3IiHt9LcocjEfquCDocCh50BV9kg7msYNYHTCZO+RDv8DZaZXX/b1Ch8BP/D1cEJ5d68C0H8zl8wbksfJS6vF9r8+5Xh/WKMz6Hdw421xXWdZfFjMFaWRCvwErRQToC6RBWSpBrD6/MPRYOdftCkChZJOvCR6oBsbTG950TZn/XKLTsB1Q4WjWB1ge5Bjt14WO7JviZ0fmh9lje61PU3PsFw3XyzNso0xb+xlgOvn81wN8m/zt44JVv/yTGx0uMwaP9A4BmHoiuiJSuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5e23e36930553541aa8aee4cd0b84431/a59e9/image-8.webp 192w,\n/static/5e23e36930553541aa8aee4cd0b84431/0ca9f/image-8.webp 384w,\n/static/5e23e36930553541aa8aee4cd0b84431/e85ae/image-8.webp 675w\"\n              sizes=\"(max-width: 675px) 100vw, 675px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5e23e36930553541aa8aee4cd0b84431/3b721/image-8.png 192w,\n/static/5e23e36930553541aa8aee4cd0b84431/66595/image-8.png 384w,\n/static/5e23e36930553541aa8aee4cd0b84431/a0bb6/image-8.png 675w\"\n            sizes=\"(max-width: 675px) 100vw, 675px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5e23e36930553541aa8aee4cd0b84431/a0bb6/image-8.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>RDB는 특정 value를 찾기 위해 특정 테이블의 모든 레코드를 보면서 체크하지만, ES에서는 특정 텍스트 값 기반으로 이미 어떤 Document에 포함되어 있는지 색인이 되어 있어서, 찾는 속도에서 차이가 날 수 밖에 없다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 691px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c1926c552335ff2c87b7a0cc8d212dbb/2928f/image-9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.958333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABp0lEQVQoz22Si46cMAxF+f8/q1St1Fbb7s4IBoZnAkkIhPAIcCt7VfpQLUUhzo19bBM9SwFlBkzzgqwQ+PzlDaI1sOOE+6NAkpVIsgpxVuKX1vkZaV7j+/sDcVrgnuTorcM4eUSy03wIYYdUhgPofoCxI779iHGLn3i7Z/j08srJaqH44S3J+Uyal6/v6LTF4DwiIRUoKJnpByRpAaV7zMuCWrTYjx3/2n4c6HSPRnaww/jbv++ItLFMRDaMjoP7eYGfZ4hWYVlWFm4hIITA37RT0qISDBH4bse2BURtp9lJRsHLWjKBmzyE7Fh8HAcH4nUc7JOtQpzmfxGSLurtiEZ0oN0ODs55vpz8zMHJf54ni3mdJ8K+c3IipIroPWkJLJKthmg1ZyUHXSzrinn+6CERMCFTHhchaeumBVVIi9pDQJEy9qIY3IRGqquHj6xEXjR8/rDzan7VtEif1TXQq2Sio39pGCfOUFSSy13WhadI01TaMKnpLaiiyXseFlWxbhsPhAdHQ+lUz2XytP+gJcI0r1A1Es+iRlVLZHmFW5zBjg7/MyL8Ce8v++SmPxhkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c1926c552335ff2c87b7a0cc8d212dbb/a59e9/image-9.webp 192w,\n/static/c1926c552335ff2c87b7a0cc8d212dbb/0ca9f/image-9.webp 384w,\n/static/c1926c552335ff2c87b7a0cc8d212dbb/366f1/image-9.webp 691w\"\n              sizes=\"(max-width: 691px) 100vw, 691px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c1926c552335ff2c87b7a0cc8d212dbb/3b721/image-9.png 192w,\n/static/c1926c552335ff2c87b7a0cc8d212dbb/66595/image-9.png 384w,\n/static/c1926c552335ff2c87b7a0cc8d212dbb/2928f/image-9.png 691w\"\n            sizes=\"(max-width: 691px) 100vw, 691px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c1926c552335ff2c87b7a0cc8d212dbb/2928f/image-9.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>RDBMS의 물리와 논리 단위를 ES와 비교하여 정리한 표이다.</li>\n<li>ES는 자체 REST API를 지원해주기 때문에, Insert 나 Query 할 때 또는 다양한 configure에 http request를 기본적으로 rest-full 하게 활용 가능하다.</li>\n</ul>\n<h3 id=\"기본적인-시스템-단위\" style=\"position:relative;\">기본적인 시스템 단위<a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%8B%A8%EC%9C%84\" aria-label=\"기본적인 시스템 단위 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/639806a2d968377d3588cc23d80176c4/5cfe2/image-16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVQY00VQy07DMBDM//8AXPoFiAsSUtoeEKdGRYUqokU0DxI3ru3YTlK5NQ5JvCgNDau9rGZndnYcxhghhP4VozQ7kACT4NB3SOkI9YUx1lorpaSUxhgnyzIAsNZaAID2U2QeIa8iXwu6zHNpRI/CBQTQWhdFQQhZLBaccwdjbIxRStV1o0/lc+i5X9t5+vGENtPEx6dokIYL3xgjhDifT1VVdV3nIITKoozjmHMJ9nuVbx/DYBqFHt0U8LAvX46V0voshIjjmDGWpqkxZjDiUEqv2gDQvJdzT7hLOV0f3T3cEb1satu2TdM0dV0rpYQQ435vexw6a9HPfQK3KUwSO9m1N6JZXX7uhlPGGM75PzlJkmuWhNF8l7ytQ9eP5n4086NZsg8Yy4fMGWMIISnlSP4F9mOCC8Hhc+YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/639806a2d968377d3588cc23d80176c4/a59e9/image-16.webp 192w,\n/static/639806a2d968377d3588cc23d80176c4/0ca9f/image-16.webp 384w,\n/static/639806a2d968377d3588cc23d80176c4/dc9b9/image-16.webp 768w,\n/static/639806a2d968377d3588cc23d80176c4/b20d2/image-16.webp 1006w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/639806a2d968377d3588cc23d80176c4/3b721/image-16.png 192w,\n/static/639806a2d968377d3588cc23d80176c4/66595/image-16.png 384w,\n/static/639806a2d968377d3588cc23d80176c4/fe486/image-16.png 768w,\n/static/639806a2d968377d3588cc23d80176c4/5cfe2/image-16.png 1006w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/639806a2d968377d3588cc23d80176c4/fe486/image-16.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ol>\n<li><code class=\"language-text\">Cluster</code> : 독립된 ES 시스템 환경, 1개 이상의 노드로 구성. 1개의 ES만 구동해도 1개의 Cluster로 구성을 하게 된다. 그 이상 노드로 구성된 ES Cluster는 내부적으로 데이터 교환 하지 않는다.</li>\n<li><code class=\"language-text\">Node</code> : 실행중인 ES 시스템 프로세스 단위</li>\n<li><code class=\"language-text\">Document</code> : 저장된 “단일” 데이터 단위, 흔히 RDB에서 record와 비교되는 단위이다.</li>\n<li><code class=\"language-text\">Index</code> : Document의 <code class=\"language-text\">논리적 집합</code>을 의미한다. RDB에서의 Table과 비교되는 단위이다. 기본적으로 Index는 1개 이상의 shard로 구성되어 있다.</li>\n<li><code class=\"language-text\">Shard</code> : Index(색인)과 Search(검색) 진행하는 작업 단위(Thread)를 의미한다.</li>\n</ol>\n<h3 id=\"shard\" style=\"position:relative;\">Shard<a href=\"#shard\" aria-label=\"shard permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/66ef088cb26bfb43c59ca1792053dde0/9ac8b/image-17.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.083333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGklEQVQY0xXHbU+CQAAAYP4+udW3+gfWlvXBLdeWEanppPAlBIG7g3sREIHDOybSZi/r+fYoQggSQhz4hEBKCSFEilxKDiCwbSdESJSZELws+W6XExx47ipNIyn54VArWZFayWaxjdyEZmXcfB/tbGtBOxH26ZenojAZQbHPv8DpZ58dq/mGrtEKxmi7ixSWICOZjiNjjDQYG0UdjzaTd/iMq5d940USD8hoFvRprcsGg8Id4qGJnkys0cRTAF4GVQeKW1/ehKUeF44v2rC6X5fXOJ+y4gPINpT/ZblF+ADINpB3sOp4oal8OsaEXvVmquafLUkXsvkrungwVR22HKq7bKSBVs9UB+G5zwyLPfbXam+mTujlwn77A3rV/jdAyiAkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/66ef088cb26bfb43c59ca1792053dde0/a59e9/image-17.webp 192w,\n/static/66ef088cb26bfb43c59ca1792053dde0/0ca9f/image-17.webp 384w,\n/static/66ef088cb26bfb43c59ca1792053dde0/dc9b9/image-17.webp 768w,\n/static/66ef088cb26bfb43c59ca1792053dde0/e2c2f/image-17.webp 1152w,\n/static/66ef088cb26bfb43c59ca1792053dde0/cbeb9/image-17.webp 1350w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/66ef088cb26bfb43c59ca1792053dde0/3b721/image-17.png 192w,\n/static/66ef088cb26bfb43c59ca1792053dde0/66595/image-17.png 384w,\n/static/66ef088cb26bfb43c59ca1792053dde0/fe486/image-17.png 768w,\n/static/66ef088cb26bfb43c59ca1792053dde0/d2d74/image-17.png 1152w,\n/static/66ef088cb26bfb43c59ca1792053dde0/9ac8b/image-17.png 1350w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/66ef088cb26bfb43c59ca1792053dde0/fe486/image-17.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>기본적으로 primary shard와 replica로 구성된다.</p>\n</li>\n<li>\n<p>각 샤드들은 클러스터 노드들에 분산되어 저장된다.</p>\n</li>\n<li>\n<p>같은 프라이머리 샤드와 복제본은 같은 데이터 세트를 가지고 있지만, 다른 노드에 저장된다.</p>\n</li>\n<li>\n<p>데이터 노드가 1개인 경우 복제본은 생성되지 않는다. 기본적인 시스템 단위의 그림이 노드가 1개인 경우라 복제본이 없다.</p>\n</li>\n<li>\n<p>이런 구조기반으로 기본적인 <code class=\"language-text\">데이터 무결성</code>을 유지한다. 노드가 유실되면 남아있는 샤드의 데이터를 다른 노드로 복사한다.</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a8dfc11a55c494eedb2bbb05134725ea/b2dbf/image-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVQoz02MTVPaQABA88NbPbVjy7kznU4tksqIYFFaGUAgEATkUxIlxWQ3m93NZhcioBBgpIp27Klv3uVdnjS8dSlHhFmuh4XgxIOUQ8bReDKcTu8YY4QQIYRpmuPJ2J+I0dj1p+5wxJbLpVSiWGVUHWiQDR6e5xXXUQhRB5rNB6vl0jAMxlihkC+X1PVmURuSJtTbpq6BThDMJLBQ4bJmzYpe0F08jsBCBcG5cZt1JjXORe/yMpVKRaNR88YSY6d01RzcltC8aI2UIAgk+hIjTwnyfCAey7O1SzYx9HCINwfiuTCd3MuyvBfeazQb3XZvusSan7DXCfaSgMHxfBZI5CnVoZGbIOr/6ayf5ugh2cZ7/al899L1XBEOh/P5fC6XNYzf6829uzm5dCOD2QGeF2f3c8kGjg2QDRwHUYwpgtgGCAIHIxdjTDCBAEIACSYYUwgQMCEwoW3j1WolOcxGLkTUpK7jcQ8x+KprEhdx7tkUIgoQMTG1OedCcCHEcCgYcymlUrxdO+p2jpR0S686nhVv1+PtRrKaP28pxINH3epprXBcSJXbRd/nQgzF64D7vq9pmlQyZNU4LF/JjetTfXCh9PdVI1a+lhv9E91o7Z8eFi9jlb58rsct6wYACACwLMu27WazKZ1poVw3lNV2Sr1IvZvN6TvZf6loXy86Skx5l26FcvrHfO9Tr9fV9Std1zVN6/f7iqJIX+RQ5Od2NLedqchq9SyuvN/98XY/s5WufKtUlWTlw27yzff01i/1c71+8T+ZTOYvrb0ceml1hdwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a8dfc11a55c494eedb2bbb05134725ea/a59e9/image-12.webp 192w,\n/static/a8dfc11a55c494eedb2bbb05134725ea/0ca9f/image-12.webp 384w,\n/static/a8dfc11a55c494eedb2bbb05134725ea/dc9b9/image-12.webp 768w,\n/static/a8dfc11a55c494eedb2bbb05134725ea/6b2e4/image-12.webp 946w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a8dfc11a55c494eedb2bbb05134725ea/3b721/image-12.png 192w,\n/static/a8dfc11a55c494eedb2bbb05134725ea/66595/image-12.png 384w,\n/static/a8dfc11a55c494eedb2bbb05134725ea/fe486/image-12.png 768w,\n/static/a8dfc11a55c494eedb2bbb05134725ea/b2dbf/image-12.png 946w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a8dfc11a55c494eedb2bbb05134725ea/fe486/image-12.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"es-데이터-활용하기\" style=\"position:relative;\">ES 데이터 활용하기<a href=\"#es-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"es 데이터 활용하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ol>\n<li>ES 데이터 Insert와 Shard</li>\n</ol>\n<ul>\n<li>\n<p>ES에 데이터가 입력될 떄, 데이터를 색인할 때 Index에 해당하는 모든 shard에 <code class=\"language-text\">Round Robin</code> 방식으로 입력된다.</p>\n</li>\n<li>\n<p>사용자는 어떤 document가 어떤 shard에 적재되는지 알 수 없다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">my_index</code> 라는 index가 존재하고 5개 shard로 되어 있다고 가정해보자. 데이터를 넣을 때 마다 doc id를 지정했는데, 그 id를 hash한 result에 해당하는 shard의 number로 RR 방식으로 적재된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b75951955b2eebdbed3cfa56cbebf854/b38ab/image-18.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.208333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABS0lEQVQY02WMz0+CYABA+cvdwlWeJDdzq63NOtUF9ENNBRJBWyWu2RaCzvhAwPwVWISAytesY297h3d5WKDDUIdrqPlDNdShr/Z3az/2vsKBEmmjyNB33x5CCMUx+ge2cZ3tYr6xjMg0QtvaTicIodX0ffLcnQ0Hi7dR4HmO4zgfe4IgcF33rzzPwxBCfozsLYp+38PRqNfr0eVyMpVKZzIX+bwkSQc4Xq5UZFlWFCWXyxEEgSeTAADM/IyAurx6UOvayvXDltCUJOm2UDg+OjpJE5fnZ0+dDp5IVGi6ryivspzLZk8J4hDHAUli5mxJvViZNuQUe7ZYzuczy7bBzTUNAFOrNavVpiDwLHPP83eNhiAIPMeJDNNu8o+iiE3MMdSNrqpZ47Fp7oUQMhxHkiRJUXSpxNTrJEUVikUAAM/zLMvVGZblOLHV+gHT1iXfrYLU5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b75951955b2eebdbed3cfa56cbebf854/a59e9/image-18.webp 192w,\n/static/b75951955b2eebdbed3cfa56cbebf854/0ca9f/image-18.webp 384w,\n/static/b75951955b2eebdbed3cfa56cbebf854/dc9b9/image-18.webp 768w,\n/static/b75951955b2eebdbed3cfa56cbebf854/e2c2f/image-18.webp 1152w,\n/static/b75951955b2eebdbed3cfa56cbebf854/ba85f/image-18.webp 1168w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b75951955b2eebdbed3cfa56cbebf854/3b721/image-18.png 192w,\n/static/b75951955b2eebdbed3cfa56cbebf854/66595/image-18.png 384w,\n/static/b75951955b2eebdbed3cfa56cbebf854/fe486/image-18.png 768w,\n/static/b75951955b2eebdbed3cfa56cbebf854/d2d74/image-18.png 1152w,\n/static/b75951955b2eebdbed3cfa56cbebf854/b38ab/image-18.png 1168w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b75951955b2eebdbed3cfa56cbebf854/fe486/image-18.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</li>\n<li>\n<p>doc id 를 특정하지 않고 랜덤하게 넣으면 대체적으로 균등하게 적재된다.</p>\n</li>\n<li>\n<p>검색을 할 떄도 요청을 받은 노드가 해당되는 모든 샤드에 검색 명령을 전달한다. 최초로 검색 전달을 받은 노드를 <code class=\"language-text\">coordinate node</code>라고 부른다.</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d0bdcafdf6f394aad67b6fe800881391/5745f/image-19.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.5625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVQY0x3BzWuCYBwAYP/oDknn8DJ28FCXCuH1oIKZGTRZLyJ2Cvxqq17Yhhtz2bBsH1H2ov7GfB6Gfu6KQ0qT7TXZXrdxcdhXAJTS8/mcZVmSJHEcp2ma5/nlcinL8lqjlJZlyQDATwG/BQBAVVUAcDwe+/1+r9fjed5xnNls1u12XdclhIRh2Ol0BEHgeT6KIsb/+FL9SAvfHpLv7LA/nU7vccxxXLvdZllW0zSEULPZdBwnCAKMcavV4jiu0Wj4vs/g5cuNGdzeL+3H6DX6t1gsRCTqNYzxXc2yLNM0McaTyWQ6nRqG4Xke80TW2F1Z7uqZrDebDSHEtu3BYCCKIkJIkiRVVWVJkmVZUZTxeDwcDkejka7r8/n8D+xB6ooQTKnrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d0bdcafdf6f394aad67b6fe800881391/a59e9/image-19.webp 192w,\n/static/d0bdcafdf6f394aad67b6fe800881391/0ca9f/image-19.webp 384w,\n/static/d0bdcafdf6f394aad67b6fe800881391/dc9b9/image-19.webp 768w,\n/static/d0bdcafdf6f394aad67b6fe800881391/e2c2f/image-19.webp 1152w,\n/static/d0bdcafdf6f394aad67b6fe800881391/0fc3c/image-19.webp 1258w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d0bdcafdf6f394aad67b6fe800881391/3b721/image-19.png 192w,\n/static/d0bdcafdf6f394aad67b6fe800881391/66595/image-19.png 384w,\n/static/d0bdcafdf6f394aad67b6fe800881391/fe486/image-19.png 768w,\n/static/d0bdcafdf6f394aad67b6fe800881391/d2d74/image-19.png 1152w,\n/static/d0bdcafdf6f394aad67b6fe800881391/5745f/image-19.png 1258w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d0bdcafdf6f394aad67b6fe800881391/fe486/image-19.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>각 샤드별로 분산 실행되고 결과는 다시 요청받은 노드, coordinate node로 전달되어 취합된 후 client로 response를 넘겨준다.</li>\n<li>인덱스용량에 따라 적절한 수의 샤드로 구성해야 한다. 인덱스를 선언하지 않고 바로 document를 insert해도 <code class=\"language-text\">schemless</code> 라는 세팅으로 자동 index를 세팅하며 샤드 개수에도 default 설정을 따른다.</li>\n</ul>\n<ol start=\"2\">\n<li>멀티테넌시 - multitenancy</li>\n</ol>\n<ul>\n<li>ES에서는 서로 다른 인덱스를 <code class=\"language-text\">묶어서 한꺼번에 검색</code> 가능하다. 쉼표로 나열하거나 와일드카드를 사용할 수 있다.</li>\n<li>ex) <code class=\"language-text\">GET book, magazine/_search</code> 혹은 <code class=\"language-text\">GET filebeat-*/_search</code></li>\n</ul>\n<h1 id=\"정리\" style=\"position:relative;\">정리<a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>ES를 단순 검색 엔진 툴로만 이해하고 있었지만, 클러스터링과 샤드 개념에서 학습을 하니, 정교하게 짜여진 자료구조를 기반으로 작동되는 엔진이라는 느낌을 받았다. 향후 데이터 포털 고도화 작업을 할 때, ES를 활용하면서, 데이터를 어떻게 색인하고, 어떻게 검색할 것인지에 대한 고민을 해야겠다.</p>\n<h1 id=\"참고링크\" style=\"position:relative;\">참고링크<a href=\"#%EC%B0%B8%EA%B3%A0%EB%A7%81%ED%81%AC\" aria-label=\"참고링크 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<ul>\n<li><a href=\"https://velog.io/@qlgks1/Elasticsearch-%EB%A3%A8%EC%94%AC-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90%EA%B3%BC-ES-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0Node-Index-Shard-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" target=\"_blank\" rel=\"nofollow\">새로운 Elasticsearch 데이터 구조 이해하기</a></li>\n</ul>","frontmatter":{"title":"ElasticSearch - 개념정리","summary":"ELK Stack 기반 실시간 검색어 순위 기능 구현","date":"2023.09.01.","categories":["VISANG","ElasticSearch"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRiQBAABXRUJQVlA4IBgBAACwBQCdASoUAAsAAAAAJYwAcBnaAEGgxgD8QJ6B/gPsA81X1Kf6N+Rf7/8YAa15HqeysTTwNRAA/v//qlDsT+tv0bcXJhxFv/PxXuJ6PV7ZsiA6cfUcIXo/lxEoo6xIRJPpV29fuflNFqWWCrKpLOT+/7U//RRa/emTf9Xp/+clRGx7tEo8b/uGgYfZJ6+M//Ifzx1MDIvm4n/r3vDz3T/KuzeUQpviKRzHu9f4TJcbALP3vk8OdWO1n//wgSr//8q//i52D/0MP/Ydfznf67c/gM7+ZRzyBXof//MZ/9R/9qI/5VIoP/tz8d45PymvuniUvddr/iiJhM/xQsM4+q9D55Mr1v7zs//xpwx0P+9BIV5UX16tIAAA"},"images":{"fallback":{"src":"/static/187a1da2b4a7a6e4c3345bdefa435c3d/06313/thumbnail-elasticsearch.webp","srcSet":"/static/187a1da2b4a7a6e4c3345bdefa435c3d/06e70/thumbnail-elasticsearch.webp 225w,\n/static/187a1da2b4a7a6e4c3345bdefa435c3d/6ec2c/thumbnail-elasticsearch.webp 450w,\n/static/187a1da2b4a7a6e4c3345bdefa435c3d/06313/thumbnail-elasticsearch.webp 900w","sizes":"(min-width: 900px) 900px, 100vw"},"sources":[]},"width":900,"height":500}},"publicURL":"/static/187a1da2b4a7a6e4c3345bdefa435c3d/thumbnail-elasticsearch.webp"}}}}]}},"pageContext":{"slug":"/ES_개념정리/"}},"staticQueryHashes":[]}