{"componentChunkName":"component---src-templates-post-template-tsx","path":"/ES_한글_형태소_분석/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"tableOfContents":"<ul>\n<li>\n<p><a href=\"#elasticsearch-logstash-kibana-%EC%84%A4%EC%B9%98\">ElasticSearch, Logstash, Kibana 설치</a></p>\n</li>\n<li>\n<p><a href=\"#postgresql-%EC%97%B0%EB%8F%99\">PostgreSQL 연동</a></p>\n</li>\n<li>\n<p><a href=\"#elk-%EC%8B%A4%ED%96%89\">ELK 실행</a></p>\n<ul>\n<li><a href=\"#logstash\">Logstash</a></li>\n<li><a href=\"#elasticsearch\">ElasticSearch</a></li>\n<li><a href=\"#kibana\">Kibana</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#nori-tokenizer\">Nori Tokenizer</a></p>\n<ul>\n<li><a href=\"#nori-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%8B%A4%ED%96%89\">Nori 설치 및 실행</a></li>\n<li><a href=\"#nori-%EC%82%AC%EC%9A%A9\">Nori 사용</a></li>\n<li><a href=\"#%ED%8A%B9%EC%A0%95-index%EC%97%90-template-%EC%84%A4%EC%A0%95\">특정 Index에 template 설정</a></li>\n<li><a href=\"#dev-tools%EB%A1%9C-nori-%EC%A0%81%EC%9A%A9-%EC%97%AC%EB%B6%80-%ED%99%95%EC%9D%B8\">Dev Tools로 Nori 적용 여부 확인</a></li>\n<li><a href=\"#settings---analyzer%EC%9D%98-pattern-%EC%82%AC%EC%9A%A9\">Settings - Analyzer의 Pattern 사용</a></li>\n</ul>\n</li>\n</ul>","html":"<p>메타 데이터는 <code class=\"language-text\">테이블ID, 테이블 코멘트, 하위 주제</code> 로 구성되어 있다. 여기서 이 요소들을 기준으로 더 정확한 검색을 위해 다음의 과정을 거쳤다. 테이블 코멘트와 하위 주제는 <code class=\"language-text\">의미 있는 한글 형태소 기반</code>으로, 테이블 ID는 <code class=\"language-text\">'_' -> 언더바</code>를 기준으로 나누어서 검색되도록 하였다.</p>\n<h1 id=\"elasticsearch-logstash-kibana-설치\" style=\"position:relative;\">ElasticSearch, Logstash, Kibana 설치<a href=\"#elasticsearch-logstash-kibana-%EC%84%A4%EC%B9%98\" aria-label=\"elasticsearch logstash kibana 설치 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>ELK Stack 설치. 셋 모두 7.15.2 버전을 설치해줬다.</p>\n<ul>\n<li>ES - <a href=\"https://www.elastic.co/kr/downloads/elasticsearch\" target=\"_blank\" rel=\"nofollow\">https://www.elastic.co/kr/downloads/elasticsearch</a></li>\n<li>Logstash - <a href=\"https://www.elastic.co/kr/downloads/past-releases#logstash\" target=\"_blank\" rel=\"nofollow\">https://www.elastic.co/kr/downloads/past-releases#logstash</a></li>\n<li>Kibana - <a href=\"https://www.elastic.co/kr/downloads/kibana\" target=\"_blank\" rel=\"nofollow\">https://www.elastic.co/kr/downloads/kibana</a></li>\n</ul>\n<h1 id=\"postgresql-연동\" style=\"position:relative;\">PostgreSQL 연동<a href=\"#postgresql-%EC%97%B0%EB%8F%99\" aria-label=\"postgresql 연동 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>데이터 포털 사이트 내 메타 데이터 DB는 PostgreSQL이다. PostgreSQL 과 연동하기 위해서는 <code class=\"language-text\">JDBC Driver</code> 가 필요하다.</p>\n<ul>\n<li>PostgreSQL Driver (42.6.0) - <a href=\"https://jdbc.postgresql.org/\" target=\"_blank\" rel=\"nofollow\">https://jdbc.postgresql.org/</a></li>\n</ul>\n<h1 id=\"elk-실행\" style=\"position:relative;\">ELK 실행<a href=\"#elk-%EC%8B%A4%ED%96%89\" aria-label=\"elk 실행 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p><code class=\"language-text\">Logstash -> ES -> Kibana</code> 순으로 실행</p>\n<h2 id=\"logstash\" style=\"position:relative;\">Logstash<a href=\"#logstash\" aria-label=\"logstash permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>다운받은 포더 압축 해제 후, bin 폴더에서 다음 명령어로 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># bin 폴더 내에서</span>\n./logstash.bat -f logstash-simple.conf</code></pre></div>\n<p>위 명령어 실행 시, logstash-simple.conf 파일 내용을 기반으로 실행된다.<br>\nlogstash-simple.conf 파일은 PostgreSQL의 DB 데이터를 pull 방식으로 가져와 ES로 보내는 역할을 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n<span class=\"token comment\"># Sample Logstash configuration for creating a simple</span>\n<span class=\"token comment\"># Beats -> Logstash -> Elasticsearch pipeline.</span>\ninput <span class=\"token punctuation\">{</span>\n  jdbc <span class=\"token punctuation\">{</span>\n    jdbc_driver_library <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"C:/Users/user/projects/logstash-7.15.2/bin/postgresql-42.6.0.jar\"</span>\n    jdbc_driver_class <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"org.postgresql.Driver\"</span>\n    jdbc_connection_string <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"postgres url\"</span>\n    jdbc_user <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"postgres user\"</span>\n    jdbc_password <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"postgres password\"</span>\n    schedule <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"* * * * *\"</span>\n    statement <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"select * from tb_table_meta_info\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\noutput <span class=\"token punctuation\">{</span>\n  elasticsearch <span class=\"token punctuation\">{</span>\n    hosts <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"http://localhost:9200\"</span><span class=\"token punctuation\">]</span>\n    index <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"nori_test\"</span>\n    document_id <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"%{table_meta_info_id}\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>input: <code class=\"language-text\">PostgreSQL JDBC</code> Connection 정보 입력</li>\n<li>output: <code class=\"language-text\">ElasticSearch</code> Connection 정보 입력</li>\n</ul>\n<p>document_id 설정 이유 : <a href=\"https://blog.naver.com/xomyjoung/221650123319\" target=\"_blank\" rel=\"nofollow\">https://blog.naver.com/xomyjoung/221650123319</a><br>\n바로 <code class=\"language-text\">중복 데이터 처리</code>를 위해서이다. Logstash에서 1분마다 한번씩 input의 statement SQL 구문을 실행해준다. 그렇게 되면 중복되는 데이터가 계속해서 쌓이게 되는데, 이를 document_id 옵션을 통해 해결가능하다.</p>\n<h2 id=\"elasticsearch\" style=\"position:relative;\">ElasticSearch<a href=\"#elasticsearch\" aria-label=\"elasticsearch permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>압축해제 후, bin 폴더 내의 .bat 파일을 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">localhost:9200</code></pre></div>\n<p>ES의 기본 URL 주소</p>\n<h2 id=\"kibana\" style=\"position:relative;\">Kibana<a href=\"#kibana\" aria-label=\"kibana permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>압축해제 후, bin 폴더 내의 .bat 파일을 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">localhost:5601</code></pre></div>\n<p>Kibana의 기본 URL 주소</p>\n<h1 id=\"nori-tokenizer\" style=\"position:relative;\">Nori Tokenizer<a href=\"#nori-tokenizer\" aria-label=\"nori tokenizer permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<h2 id=\"nori-설치-및-실행\" style=\"position:relative;\">Nori 설치 및 실행<a href=\"#nori-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%8B%A4%ED%96%89\" aria-label=\"nori 설치 및 실행 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<blockquote>\n<p>Nori - 한글 형태소 분석기</p>\n</blockquote>\n<ul>\n<li>Nori 플러그인 설치 및 실행 : <a href=\"https://dogf.tistory.com/110\" target=\"_blank\" rel=\"nofollow\">https://dogf.tistory.com/110</a><br>\nNori 설치를 위해 ES 폴더 내에 다음 명령어 실행</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">./bin/elasticsearch-plugin <span class=\"token function\">install</span> analysis-nori</code></pre></div>\n<p>설치 후, ES 실행 시 다음과 같이 나오면 정상적으로 Nori가 구동되고 있다는 것<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a52eec83b1762bb63696e9941aff4f46/b72ad/image-20.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAp0lEQVQI1yXNWQ6DIBRAUXcixkZ4AQXeADLZNN3/nhrt+b+5U++9t5bGW85yjRERSz4/pX5rvUSCv7ndAYAxBh4GzLZtSqmp1pZz4rMGJGbOKTGL5ISIh/dEhEgx3BCRiPaHczsATGOMWgqlMxLXUkWEYmTJLIyEzIzo/XE8gfuXx+OOr+vdW6PSAnGMwVp730ScdRYsAGj90lqv66qUUov6W5Zlnucfc/otC18UsSkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a52eec83b1762bb63696e9941aff4f46/a59e9/image-20.webp 192w,\n/static/a52eec83b1762bb63696e9941aff4f46/0ca9f/image-20.webp 384w,\n/static/a52eec83b1762bb63696e9941aff4f46/dc9b9/image-20.webp 768w,\n/static/a52eec83b1762bb63696e9941aff4f46/e2c2f/image-20.webp 1152w,\n/static/a52eec83b1762bb63696e9941aff4f46/cd45f/image-20.webp 1242w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a52eec83b1762bb63696e9941aff4f46/3b721/image-20.png 192w,\n/static/a52eec83b1762bb63696e9941aff4f46/66595/image-20.png 384w,\n/static/a52eec83b1762bb63696e9941aff4f46/fe486/image-20.png 768w,\n/static/a52eec83b1762bb63696e9941aff4f46/d2d74/image-20.png 1152w,\n/static/a52eec83b1762bb63696e9941aff4f46/b72ad/image-20.png 1242w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a52eec83b1762bb63696e9941aff4f46/fe486/image-20.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br>\n빨간 부분을 확대해서 보면</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>node -1<span class=\"token punctuation\">]</span> loaded plugin <span class=\"token punctuation\">[</span>analysis-nori<span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"nori-사용\" style=\"position:relative;\">Nori 사용<a href=\"#nori-%EC%82%AC%EC%9A%A9\" aria-label=\"nori 사용 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Logstash로 pull 해온 DB 테이블에 해당하는 index의 <code class=\"language-text\">settings</code>를 수정해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">PUT _template/tb_table_meta_info\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"index_patterns\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"tb_table_meta_info-*\"</span>\n  <span class=\"token punctuation\">]</span>,\n  <span class=\"token string\">\"order\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">0</span>,\n  <span class=\"token string\">\"settings\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"index\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"analysis\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"tokenizer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"nori_mixed\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"nori_tokenizer\"</span>,\n            <span class=\"token string\">\"decompound_mode\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"mixed\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"english_underscore\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"pattern\"</span>,\n            <span class=\"token string\">\"pattern\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\\\\">\\\\</span>W|_\"</span>,\n            <span class=\"token string\">\"lowercase\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token boolean\">true</span>\n          <span class=\"token punctuation\">}</span>,\n          <span class=\"token string\">\"korean\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"custom\"</span>,\n            <span class=\"token string\">\"tokenizer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"nori_mixed\"</span>,\n            <span class=\"token string\">\"char_filter\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token string\">\"html_strip\"</span>\n            <span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"mappings\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"properties\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"text\"</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"english_underscore\"</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token string\">\"table_comment\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"text\"</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"korean\"</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"text\"</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"korean\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">settings</code> : nori 사용을 위해 <code class=\"language-text\">tokenizer</code> 정의 및 <code class=\"language-text\">analyzer</code> 추가</li>\n<li><code class=\"language-text\">mappings</code> : nori 적용을 해줄 필드에 <code class=\"language-text\">analyzer: korean</code> 추가</li>\n</ul>\n<p>필요한 값 설정 후, PUT 요청으로 수정 완료<br>\n수정이 제대로 되었는지 확인해주기 위해 Kibana Console에 접속 후, <code class=\"language-text\">Management -> Stack Management -> Data -> Index Management</code> 에 간 다음, 원하는 index 선택 후 Settings 항목을 확인해주면 된다.</p>\n<h2 id=\"특정-index에-template-설정\" style=\"position:relative;\">특정 Index에 template 설정<a href=\"#%ED%8A%B9%EC%A0%95-index%EC%97%90-template-%EC%84%A4%EC%A0%95\" aria-label=\"특정 index에 template 설정 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<blockquote>\n<p>Create or Update index template API - <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates-v1.html\" target=\"_blank\" rel=\"nofollow\">https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates-v1.html</a></p>\n</blockquote>\n<p>초기 한번만 template을 설정해두면, 다음 index 생성 시에는 조건에 맞는 index에 settings와 mappings 정보에 자동적용된다.</p>\n<h2 id=\"dev-tools로-nori-적용-여부-확인\" style=\"position:relative;\">Dev Tools로 Nori 적용 여부 확인<a href=\"#dev-tools%EB%A1%9C-nori-%EC%A0%81%EC%9A%A9-%EC%97%AC%EB%B6%80-%ED%99%95%EC%9D%B8\" aria-label=\"dev tools로 nori 적용 여부 확인 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Dev Tools로 접속 후, 다음과 같이 검색해서 Nori 적용 여부를 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">POST tb_table_meta_info-2023.09.11/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"query\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"bool\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"must\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"multi_match\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"query\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"진단\"</span>,\n                <span class=\"token string\">\"fields\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"table_id\"</span>, <span class=\"token string\">\"table_comment\"</span>, <span class=\"token string\">\"small_clsf_name\"</span><span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>table_comment, 그리고 small_clsf_name 속성에 nori 를 적용해준 상태이다.<br>\n결과는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">#! Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.15/security-minimal-setup.html to enable security.</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"took\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">890</span>,\n  <span class=\"token string\">\"timed_out\"</span> <span class=\"token builtin class-name\">:</span> false,\n  <span class=\"token string\">\"_shards\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"total\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n    <span class=\"token string\">\"successful\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n    <span class=\"token string\">\"skipped\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">0</span>,\n    <span class=\"token string\">\"failed\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"hits\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"total\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"value\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">32</span>,\n      <span class=\"token string\">\"relation\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"eq\"</span>\n    <span class=\"token punctuation\">}</span>,\n    <span class=\"token string\">\"max_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">6.4197645</span>,\n    <span class=\"token string\">\"hits\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"274\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">6.4197645</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"심리 진단\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">82</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"심리진단\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.457Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">274</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_psych_diagnosis\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">7</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"308\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">6.4197645</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"진단 정보\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">136</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"학습진단\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.458Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">308</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_study_diagnosis\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">7</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2209\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">6.196665</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"학력진단\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">82</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"학력진단 진단지정보 테이블\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.703Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2209</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"TYPE_CST_BODY\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">13</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"309\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">5.9034023</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"진단 상세 정보\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">136</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"학습진단상세\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.458Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">309</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_study_diagnosis_detail\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">7</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2216\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">5.9034023</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"진단 정보\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">82</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"진단정보테이블\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.703Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2216</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"TYPE_CST_INFO\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">13</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"937\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">5.463922</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"기록\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">6</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"성격 진단 상담 테이블\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.531Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">937</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"TYPE_CST_CTR_MEMO\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2213\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">5.463922</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">82</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단 문제 정보\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.703Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2213</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"TYPE_CST_CTR_PROBLEM\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">13</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2214\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">5.463922</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">82</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단 결과 마스터\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.703Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2214</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"TYPE_CST_CTR_RESULT_MASTER\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">13</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2215\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">5.463922</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">82</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단 테스트 결과\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.703Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2215</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"TYPE_CST_CTR_RESULT_V2\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">13</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"_index\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"tb_table_meta_info-2023.09.11\"</span>,\n        <span class=\"token string\">\"_type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"_doc\"</span>,\n        <span class=\"token string\">\"_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2218\"</span>,\n        <span class=\"token string\">\"_score\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">5.463922</span>,\n        <span class=\"token string\">\"_source\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단\"</span>,\n          <span class=\"token string\">\"service_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span>,\n          <span class=\"token string\">\"sub_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">82</span>,\n          <span class=\"token string\">\"@version\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n          <span class=\"token string\">\"table_comment\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"유형진단 월별 전략\"</span>,\n          <span class=\"token string\">\"@timestamp\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-09-11T07:01:00.703Z\"</span>,\n          <span class=\"token string\">\"table_meta_info_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2218</span>,\n          <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"TYPE_CST_STRATEGY_INFO\"</span>,\n          <span class=\"token string\">\"main_category_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">13</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">진단</code>으로 검색 시, 단순 <code class=\"language-text\">진단</code> 단어 뿐 아니라, <code class=\"language-text\">유형진단</code> 처럼 단어가 서로 붙어있어도 <code class=\"language-text\">형태소 단위로 분석</code>하여 진단과 매칭되는 결과에 포함시켜준다.</p>\n<h2 id=\"settings---analyzer의-pattern-사용\" style=\"position:relative;\">Settings - Analyzer의 Pattern 사용<a href=\"#settings---analyzer%EC%9D%98-pattern-%EC%82%AC%EC%9A%A9\" aria-label=\"settings   analyzer의 pattern 사용 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>tb_table_meta_info 의 table_comment와 small_clsf_name 과는 다르게, <code class=\"language-text\">table_id</code> 는 영어 단어가 언더바( _ ) 기준으로 분류된 형태이다.</p>\n<p>한글 형태소 기준으로 나눈 것 처럼, table_id 컬럼도 언더바 기준으로 나눠서 검색이 가능하게 할 수 있다.</p>\n<ul>\n<li>Pattern analyzer - <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pattern-analyzer.html\" target=\"_blank\" rel=\"nofollow\">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pattern-analyzer.html</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">PUT _template/tb_table_meta_info\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"index_patterns\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"tb_table_meta_info-*\"</span>\n  <span class=\"token punctuation\">]</span>,\n  <span class=\"token string\">\"order\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">0</span>,\n  <span class=\"token string\">\"settings\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"index\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"analysis\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"tokenizer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"nori_mixed\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"nori_tokenizer\"</span>,\n            <span class=\"token string\">\"decompound_mode\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"mixed\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"english_underscore\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"pattern\"</span>,\n            <span class=\"token string\">\"pattern\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\\\\">\\\\</span>W|_\"</span>,\n            <span class=\"token string\">\"lowercase\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token boolean\">true</span>\n          <span class=\"token punctuation\">}</span>,\n          <span class=\"token string\">\"korean\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"custom\"</span>,\n            <span class=\"token string\">\"tokenizer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"nori_mixed\"</span>,\n            <span class=\"token string\">\"char_filter\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token string\">\"html_strip\"</span>\n            <span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"mappings\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"properties\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"table_id\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"text\"</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"english_underscore\"</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token string\">\"table_comment\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"text\"</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"korean\"</span>\n      <span class=\"token punctuation\">}</span>,\n      <span class=\"token string\">\"small_clsf_name\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"text\"</span>,\n        <span class=\"token string\">\"analyzer\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"korean\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>analyzer에 <code class=\"language-text\">english_underscore</code> 이름으로 <code class=\"language-text\">pattern</code>을 정의해줬다.<br>\npattern의 문자열들을 기준으로 table_id 의 컬럼 값을 split 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">POST tb_table_meta_info-2023.09.11/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"query\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"bool\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"must\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"multi_match\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"query\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"code\"</span>,\n                <span class=\"token string\">\"fields\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"table_id\"</span>, <span class=\"token string\">\"table_comment\"</span>, <span class=\"token string\">\"small_clsf_name\"</span><span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>다음 요청으로 검색 시, 아래와 같은 결과가 나온다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f32e9069eabffa686fc69343becd682/07e4e/image-21.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 166.14583333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAIAAABWXBxEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD7klEQVQ4y41ViU7jSBDl/39rdyWWHWAJuYgdn33ft48EWHVmGEESpJVKLdvy63r1+lX1TUtkiVVFNDNB2FhgBYSLw/x/4oYq3zBjQ3JhOH06+DiFNJ39d/klg61LysU14A01ypoNqvYU1AzUDPWCNhw3HDWccGPicLgA+0S0X/UcS1eQtsRIuRjOk0zXaVufmAlbKBqmhXEdt0A4G4Y4zmGYwpDXb2s2mXZaNORHhQssSyxraoyPK1yuSfXQr7e0dnHMG12UfQLb2FC9w/KxoRXRDZHWjzEdD/P7PL0d5vdxfM0xvabxS9k32iXr0qpld3u87NgOcigVEOyFNCXrSga2pAaKIS2h5NL588zaxUVD7kp0W8INEC3jD+3usX/5u1ouQPHYb9ao2uGOGG1CjOkcnHZI/tvQLVQd1ysAtrBvOa8oY9YQraHiLgxXaGewjS3VBVYFVg01LVOAC2atCl46L5xTPviTZueCKRukcof5dZ4Pw3iY5rc5R5ZqnF6n6W06PZzl/C1YFCY7FEpvQ8yWYrjlpBMUKd5L1gvWSyaMve4wasJ9hVuqS9yuQEW0/mDrpXPSeeX9h/Mv7an8nmgkHZISCAeE1348Ht7n+e0453W4xvkkmE/KpqeGPNa046YisuXW+PhCmoK1z6goWe/j+K09tY0llsuO/VPjHVIVkcolbp0OQXinQ4zDnIZDGrOi6VPlGWxcLJFcAf4CZUMllFpaT41WIfzEuziYEJUPygcb0hd7Gpcea/zXrr8twKJlQMiHdntbP/1R3t/Wiz/L+xXar2EFJOsEZbmxv9LeQrFo6AaKjus1AGvQN4wXiJwcpqDiWEsbhikf+PGLYNrFPZLLjq+BqIgqMd0TCJWiVhOtkFbU5C20j3kqfGrMG22j1Pbni0uTT/OQu+9t+rDXKU79eGkSbYM0XrpBuhTTKJwlWlGtqdHcWmo0MTmz+tqMn8dQvCthTXXL4aLfAcmQElAJYhTRKq9Gax++dViBFRS25aSmCgofh8Nhfp+mbK9xPA7j8ZLzL8GEjZueb6FkOjRU98Ian7CR2EiilU/jdzPw11FtALuvyH1NtkCUWGoXsZFZbaPyHZDH6PQtuCLqBckNyOfcC2n8YMI4TsdxOg7T8cT8ej/nAfjckNsCPVR41VOizA53T2C7xuVDv3nBDbOGWxvStczGpWVHf+zRQ032RG8AeO6bgqBl3zJrcBZcc+uugFU2SdhB8dTSFRA1Uc9du8dkTwnVZhiOKR1Sypx9nM7ipieqrGGDZIP1Hsk9kh21kFnMHZMec4e5PYUj4jyyw4R2aZxPph1jvlaGkPLlYmP6feO5eGUM/Qfmyjvmvpr32wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2f32e9069eabffa686fc69343becd682/a59e9/image-21.webp 192w,\n/static/2f32e9069eabffa686fc69343becd682/0ca9f/image-21.webp 384w,\n/static/2f32e9069eabffa686fc69343becd682/dc9b9/image-21.webp 768w,\n/static/2f32e9069eabffa686fc69343becd682/8110d/image-21.webp 816w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2f32e9069eabffa686fc69343becd682/3b721/image-21.png 192w,\n/static/2f32e9069eabffa686fc69343becd682/66595/image-21.png 384w,\n/static/2f32e9069eabffa686fc69343becd682/fe486/image-21.png 768w,\n/static/2f32e9069eabffa686fc69343becd682/07e4e/image-21.png 816w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2f32e9069eabffa686fc69343becd682/fe486/image-21.png\"\n            alt=\"Alt text\"\n            title=\"Alt text\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>언더바 기준으로 table_id 값이 나뉘어져서, 나뉘어진 값 중 code 가 포함되어 있으면 이를 검색 결과로 반환해준다.</p>","frontmatter":{"title":"ElasticSearch - Nori Tokenizer & Pattern 기반 검색 정확도 향상","summary":"ES의 한글 형태소 기반 검색","date":"2023.09.04.","categories":["VISANG","ElasticSearch","Logstash","Kibana"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRiQBAABXRUJQVlA4IBgBAACwBQCdASoUAAsAAAAAJYwAcBnaAEGgxgD8QJ6B/gPsA81X1Kf6N+Rf7/8YAa15HqeysTTwNRAA/v//qlDsT+tv0bcXJhxFv/PxXuJ6PV7ZsiA6cfUcIXo/lxEoo6xIRJPpV29fuflNFqWWCrKpLOT+/7U//RRa/emTf9Xp/+clRGx7tEo8b/uGgYfZJ6+M//Ifzx1MDIvm4n/r3vDz3T/KuzeUQpviKRzHu9f4TJcbALP3vk8OdWO1n//wgSr//8q//i52D/0MP/Ydfznf67c/gM7+ZRzyBXof//MZ/9R/9qI/5VIoP/tz8d45PymvuniUvddr/iiJhM/xQsM4+q9D55Mr1v7zs//xpwx0P+9BIV5UX16tIAAA"},"images":{"fallback":{"src":"/static/187a1da2b4a7a6e4c3345bdefa435c3d/06313/thumbnail-elasticsearch.webp","srcSet":"/static/187a1da2b4a7a6e4c3345bdefa435c3d/06e70/thumbnail-elasticsearch.webp 225w,\n/static/187a1da2b4a7a6e4c3345bdefa435c3d/6ec2c/thumbnail-elasticsearch.webp 450w,\n/static/187a1da2b4a7a6e4c3345bdefa435c3d/06313/thumbnail-elasticsearch.webp 900w","sizes":"(min-width: 900px) 900px, 100vw"},"sources":[]},"width":900,"height":500}},"publicURL":"/static/187a1da2b4a7a6e4c3345bdefa435c3d/thumbnail-elasticsearch.webp"}}}}]}},"pageContext":{"slug":"/ES_한글_형태소_분석/"}},"staticQueryHashes":[]}