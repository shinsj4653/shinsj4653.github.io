{"componentChunkName":"component---src-templates-post-template-tsx","path":"/CI_Part5_Ch20/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0\">슬라이딩 윈도우</a></p>\n</li>\n<li>\n<p><a href=\"#75-%EC%B5%9C%EB%8C%80-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0\">75. 최대 슬라이딩 윈도우</a></p>\n<ul>\n<li><a href=\"#%ED%92%80%EC%9D%B4-1-%EB%B8%8C%EB%A3%A8%ED%8A%B8-%ED%8F%AC%EC%8A%A4%EB%A1%9C-%EA%B3%84%EC%82%B0\">풀이 1. 브루트 포스로 계산</a></li>\n<li><a href=\"#%ED%92%80%EC%9D%B4-2-%ED%81%90%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%B5%9C%EC%A0%81%ED%99%94\">풀이 2. 큐를 이용한 최적화</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#76-%EB%B6%80%EB%B6%84-%EB%AC%B8%EC%9E%90%EC%97%B4%EC%9D%B4-%ED%8F%AC%ED%95%A8%EB%90%9C-%EC%B5%9C%EC%86%8C-%EC%9C%88%EB%8F%84%EC%9A%B0\">76. 부분 문자열이 포함된 최소 윈도우</a></p>\n<ul>\n<li><a href=\"#%ED%92%80%EC%9D%B4-1-%EB%AA%A8%EB%93%A0-%EC%9C%88%EB%8F%84%EC%9A%B0-%ED%81%AC%EA%B8%B0%EB%A5%BC-%EB%B8%8C%EB%A3%A8%ED%8A%B8-%ED%8F%AC%EC%8A%A4%EB%A1%B5-%ED%83%90%EC%83%89\">풀이 1. 모든 윈도우 크기를 브루트 포스롵 탐색</a></li>\n<li><a href=\"#code-classlanguage-text%ED%92%80%EC%9D%B4-2-%ED%88%AC-%ED%8F%AC%EC%9D%B8%ED%84%B0-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0%EB%A1%9C-%EC%B5%9C%EC%A0%81%ED%99%94code\"><code class=\"language-text\">풀이 2. 투 포인터, 슬라이딩 윈도우로 최적화</code></a></li>\n<li><a href=\"#%ED%92%80%EC%9D%B4-3-counter%EB%A1%9C-%EC%A2%80-%EB%8D%94-%ED%8E%B8%EB%A6%AC%ED%95%9C-%ED%92%80%EC%9D%B4\">풀이 3. Counter로 좀 더 편리한 풀이</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#77-%EA%B0%80%EC%9E%A5-%EA%B8%B4-%EB%B0%98%EB%B3%B5-%EB%AC%B8%EC%9E%90-%EB%8C%80%EC%B2%B4\">77. 가장 긴 반복 문자 대체</a></p>\n<ul>\n<li><a href=\"#code-classlanguage-text%ED%92%80%EC%9D%B4-1-%ED%88%AC-%ED%8F%AC%EC%9D%B8%ED%84%B0-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0-counter%EB%A5%BC-%EB%AA%A8%EB%91%90-%EC%9D%B4%EC%9A%A9code\"><code class=\"language-text\">풀이 1. 투 포인터, 슬라이딩 윈도우, Counter를 모두 이용</code></a></li>\n</ul>\n</li>\n</ul>","html":"<h1 id=\"슬라이딩-윈도우\" style=\"position:relative;\">슬라이딩 윈도우<a href=\"#%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0\" aria-label=\"슬라이딩 윈도우 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<blockquote>\n<p>슬라이딩 윈도우(Sliding Window) 란 고정 사이즈의 윈도우가 이동하면서 윈도우 내에 있는 데이터를 이용해 문제를 풀이하는 알고리즘</p>\n</blockquote>\n<p><code class=\"language-text\">투 포인터</code>와 함께 <code class=\"language-text\">슬라이딩 윈도우</code>는 알고리즘 문제 풀이에 매우 유용하게 사용되는 중요한 기법이다. 투 포인터와 비슷하지만 일반적으로 <code class=\"language-text\">고정 사이즈 윈도우</code>를 사용하는 경우를 슬라이딩 윈도우로 따로 구분하기도 한다. 또한, 주로 <code class=\"language-text\">정렬된 배열</code>을 대상으로 하는 투 포인터와 달리 슬라이딩 윈도우는 <code class=\"language-text\">정렬 여부에 관계 없이</code> 활용된다는 차이가 있다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 447px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4b3ad34b14494cf598746ed44eb7df12/74a2b/two_pointer_vs_sliding_window.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.45833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAACfklEQVQoz41T30/aUBTuX7ftP1jGiInJ3uZ4WOLetmSvi3MuoG4Y0ABCRWCrgI7oyEgwMZFZWjEbFi0tFsFBURwUScu33Mtgi3vZl9zck9uv55zv/GAsy8LNzQ36/T5My4I1sGBaJv7GYDCg53/ACHweId8q1gJr2IhxSHJxpOIJbG9uYSPKIZPOjMm6rsPvC2BxwQ2XawEu1zy2t3dwcnKCQqGARqMBJrfP4/2iF6x/FTE2jPXVIGLBINYDPrx5NYdgYG3ssF6v48Xzl3A4nmLq8RRstgnMvJ5DLrePdDoNVVXB/Oz0oGoXsG7JJGhedqFfdalt/ZZ8VKygWmtQW9WaqF20SFHQ6XRo6ZiqpkFRykhwHKIsCy4Sw6d4EpvxBD5EIshm/ki+vr6GoihIf96B0+mEe2kJbrcbXu8yRPEQrVYLTK1Ww/l5FdHoRyx7/IiEQgj5g/B5VzA78xZsMDx2SH4ol8tgWRaTk4/gcDzBQ7sddvsEUqkUKpUKGNM0YXQ7uGi20bw0hvIsi95K9RJa/WrcaToRvR4a+hVKcm3YqFYbsjK0TdMCo2kaZFmGLJ9CyPMIh1iss2EkuQ0ciiLIdxKUwDAMmiHt6lEBgYAfrnkXPbOzMzg4+DqUTOpISKIowuPxY9mzgnnnO2S+ZCAdH48zbrfblCcIArLZLKafTcNmt+GB7T7u3ruDRDI+lNztdml0gu9lHb2+BUnRx++joSaOyRvpKIGs/qAdN4wuCt9UymVGBSeOi8UiTk9JpgLOzir/bMsIxHEulwPPH6BUKkGSJOzt7dFAzGitCIkMrqoqyOfzdEhvr93oJmsqCHnwPE/lS9IxdnezNPtf6BRNe0ZbZDIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4b3ad34b14494cf598746ed44eb7df12/a59e9/two_pointer_vs_sliding_window.webp 192w,\n/static/4b3ad34b14494cf598746ed44eb7df12/0ca9f/two_pointer_vs_sliding_window.webp 384w,\n/static/4b3ad34b14494cf598746ed44eb7df12/17ebd/two_pointer_vs_sliding_window.webp 447w\"\n              sizes=\"(max-width: 447px) 100vw, 447px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4b3ad34b14494cf598746ed44eb7df12/3b721/two_pointer_vs_sliding_window.png 192w,\n/static/4b3ad34b14494cf598746ed44eb7df12/66595/two_pointer_vs_sliding_window.png 384w,\n/static/4b3ad34b14494cf598746ed44eb7df12/74a2b/two_pointer_vs_sliding_window.png 447w\"\n            sizes=\"(max-width: 447px) 100vw, 447px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4b3ad34b14494cf598746ed44eb7df12/74a2b/two_pointer_vs_sliding_window.png\"\n            alt=\"two_pointer_vs_sliding_window\"\n            title=\"two_pointer_vs_sliding_window\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>윈도우의 사이즈가 가변적이며 좌우 포인터가 자유롭게 이동할 수 있는 방식이 투 포인터인 반면, 슬라이딩 윈도우는 [1, 3, 4, 2, 5]와 같이 정렬되어 있지 않은 배열에도 적용할 수 있다. 윈도우 사이즈는 고정이며, 좌 또는 우 한쪽 방향으로만 이동한다.</p>\n<h1 id=\"75-최대-슬라이딩-윈도우\" style=\"position:relative;\">75. 최대 슬라이딩 윈도우<a href=\"#75-%EC%B5%9C%EB%8C%80-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0\" aria-label=\"75 최대 슬라이딩 윈도우 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>배열 nums가 주어졌을 때 k 크기의 스랄이딩 윈도루를 오른쪽 끝까지 이동하면서 최대 슬라이딩 윈도우를 구하라.</p>\n<ul>\n<li>입력</li>\n</ul>\n<p>nums = [1, 3, -1, -3, 5, 3, 6, 7], k = 3</p>\n<ul>\n<li>출력</li>\n</ul>\n<p>[3, 3, 5, 5, 6, 7]</p>\n<h2 id=\"풀이-1-브루트-포스로-계산\" style=\"position:relative;\">풀이 1. 브루트 포스로 계산<a href=\"#%ED%92%80%EC%9D%B4-1-%EB%B8%8C%EB%A3%A8%ED%8A%B8-%ED%8F%AC%EC%8A%A4%EB%A1%9C-%EA%B3%84%EC%82%B0\" aria-label=\"풀이 1 브루트 포스로 계산 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>슬라이딩 윈도우를 우측으로 움직여 가며 max()로 최댓값을 추출한다. 매번 윈도우의 최댓값을 계산하기 때문에 이 경우 시간 복잡도는 O(k * n) 이다. 이 풀이는 704ms가 걸린다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">maxSlidingWindow</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> nums <span class=\"token punctuation\">:</span>\n\t\t<span class=\"token keyword\">return</span> nums\n\n\tr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> k <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\tr<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">:</span>i<span class=\"token operator\">+</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token keyword\">return</span> r</code></pre></div>\n<h2 id=\"풀이-2-큐를-이용한-최적화\" style=\"position:relative;\">풀이 2. 큐를 이용한 최적화<a href=\"#%ED%92%80%EC%9D%B4-2-%ED%81%90%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"풀이 2 큐를 이용한 최적화 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>최댓값 계산을 O(n) 이내로 줄일 수 있는 방법이 없다. 따라서 가급적 최댓값 계산을 최소화하기 위해 이전의 최댓값을 저장해뒀다가 한 칸씩 이동할 때 <code class=\"language-text\">새 값에 대해서만 더 큰 값인지 확인</code>하고, 최댓값이 윈도우에서 빠지게 되는 경우에만 다시 전체를 계산하는 형태로 개선하는 방법이 있다. <code class=\"language-text\">선입선출</code> 형태로 풀이할 수 있기 때문에, 이에 해당하는 대표적인 자료형인 <code class=\"language-text\">큐(Queue)</code>를 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">current_max <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-inf'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> v <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\twindow<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> i <span class=\"token operator\">&lt;</span> k <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span>\n\t\t<span class=\"token keyword\">continue</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>이 코드에서는 k 만큼, 이후 비즈니스 로직은 상관하지 않고 일단 값을 계속 채워 넣는다.<br>\n파이썬에서는 큐 사용이 필요한 경우, 실제로는 기능이 많고 좀 더 성능이 좋은 <code class=\"language-text\">데크</code>를 주로 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">window <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>deque<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>아직 최댓값이 반영되지 않은 상태가 아니라면, 현재 윈도우 전체의 최댓값을 게산해야 한다. 이미 최댓값이 존재한다면 새로 추가된 값이 기존 최댓값보다 더 큰 경우에만 최댓값을 교체한다. 바로, 이 부분이 <code class=\"language-text\">성능 개선을 위한 핵심</code>이다. 매번 최댓값을 계산할 필요가 없기 떄문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">if</span> current_max <span class=\"token operator\">==</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-inf'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tcurrent_max <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">elif</span> v <span class=\"token operator\">></span> current_max <span class=\"token punctuation\">:</span>\n\tcurrent_max <span class=\"token operator\">=</span> v</code></pre></div>\n<p>이처럼 <code class=\"language-text\">새로 추가된 값이 기존 최댓값보다 더 큰 경우에만, 최댓값을 교체한다</code>. 이제 다음과 같이 최댓값을 결과에 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">results<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>current_max<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">maxSlidingWindow</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tresults <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\twindow <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>deque<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tcurrent_max <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-inf'</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> v <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\twindow<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> i <span class=\"token operator\">&lt;</span> k <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span>\n\t\t\t<span class=\"token keyword\">continue</span>\n\n\t\t<span class=\"token comment\"># 새로 추가된 값이 기존 최댓값보다 큰 경우 교체</span>\n\t\t<span class=\"token keyword\">if</span> current_max <span class=\"token operator\">==</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-inf'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\t\tcurrent_max <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">elif</span> v <span class=\"token operator\">></span> current_max <span class=\"token punctuation\">:</span>\n\t\t\tcurrent_max <span class=\"token operator\">=</span> v\n\t\t\n\t\tresults<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>current_max<span class=\"token punctuation\">)</span>\n\n\t\t<span class=\"token comment\"># 최댓값이 윈도우에서 빠지면 초기화</span>\n\t\t<span class=\"token keyword\">if</span> current_max <span class=\"token operator\">==</span> window<span class=\"token punctuation\">.</span>popleft<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\t\tcurrent_max <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-inf'</span><span class=\"token punctuation\">)</span>\n\t\n\t<span class=\"token keyword\">return</span> results</code></pre></div>\n<p>슬라이딩 윈도우가 오른쪽으로 점차 이동하면서 시작하자마자 다시 신규 요소가 추가될 것이므로, 가장 오래된 값은 마지막에 제거한다. 이때 만약 그 값이 현재 윈도우의 최댓값이라면, 기존의 최댓값은 더 이상 윈도우에 포함되지 않으므로, <code class=\"language-text\">초기화</code> 과정을 거친다.</p>\n<h1 id=\"76-부분-문자열이-포함된-최소-윈도우\" style=\"position:relative;\">76. 부분 문자열이 포함된 최소 윈도우<a href=\"#76-%EB%B6%80%EB%B6%84-%EB%AC%B8%EC%9E%90%EC%97%B4%EC%9D%B4-%ED%8F%AC%ED%95%A8%EB%90%9C-%EC%B5%9C%EC%86%8C-%EC%9C%88%EB%8F%84%EC%9A%B0\" aria-label=\"76 부분 문자열이 포함된 최소 윈도우 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>문자열 S와 T 를 입력받아 O(n) 에 T의 모든 문자가 포함된 S의 최소 윈도우를 찾아라.</p>\n<h2 id=\"풀이-1-모든-윈도우-크기를-브루트-포스롵-탐색\" style=\"position:relative;\">풀이 1. 모든 윈도우 크기를 브루트 포스롵 탐색<a href=\"#%ED%92%80%EC%9D%B4-1-%EB%AA%A8%EB%93%A0-%EC%9C%88%EB%8F%84%EC%9A%B0-%ED%81%AC%EA%B8%B0%EB%A5%BC-%EB%B8%8C%EB%A3%A8%ED%8A%B8-%ED%8F%AC%EC%8A%A4%EB%A1%B5-%ED%83%90%EC%83%89\" aria-label=\"풀이 1 모든 윈도우 크기를 브루트 포스롵 탐색 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>브루트 포스 기반 풀이 방법이다. 최소 윈도우라고 했으니 일단 T의 크기부터 시작해 점점 크기를 키워가며 모든 윈도우 크기에 대해 다음 그림처럼 탐색을 할 수 있다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 537px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/257321a8e926241b29256af5e7f4a567/673a2/minimum_window_with_brute_force.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.479166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABUElEQVQoz5VS7XKDIBD0/d8xbWwTBEUQ8FuT7ewZTdofnQkzN4jc7e3ukeGfdb/f344shoCubTHPM7yrYcsSVVlimia8uwQwNB4xBozjAKM1jC5w/f5CaBqEENC2rYAPw4Cu69D3vQS/Y4pIKcF7j3EcBTQjGBOWZYG1lQCVRsN7h688h9YapTGorUVd1yiKAh+nE87nTyil4JyTf87VG+ArZYKSVVWVqG0lScZoqOsFWhdIKUpzguT5GYVSCKHB7XaTeu7Zb1NxXKQYRW7fd9KI0jYL0tGc6opCCUPKZq4A7iCUSyAGhxVjxDgMwrRpvLBh4eabk3uy5Zn1Xdc+GXJREr3yzgkbJpIlz69TX9flkLnXrusKa+3Tw/1CpDx85JC2sDDGyBCUuuJyuQjj9Jgym27s3V8P7wf4PE3yNsmMT2KS8/TYZ3lGHBB3xq7gB43fBtqL3UyIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/257321a8e926241b29256af5e7f4a567/a59e9/minimum_window_with_brute_force.webp 192w,\n/static/257321a8e926241b29256af5e7f4a567/0ca9f/minimum_window_with_brute_force.webp 384w,\n/static/257321a8e926241b29256af5e7f4a567/17e4a/minimum_window_with_brute_force.webp 537w\"\n              sizes=\"(max-width: 537px) 100vw, 537px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/257321a8e926241b29256af5e7f4a567/3b721/minimum_window_with_brute_force.png 192w,\n/static/257321a8e926241b29256af5e7f4a567/66595/minimum_window_with_brute_force.png 384w,\n/static/257321a8e926241b29256af5e7f4a567/673a2/minimum_window_with_brute_force.png 537w\"\n            sizes=\"(max-width: 537px) 100vw, 537px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/257321a8e926241b29256af5e7f4a567/673a2/minimum_window_with_brute_force.png\"\n            alt=\"minimum_window_with_brute_force\"\n            title=\"minimum_window_with_brute_force\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br>\nT는 3개의 문자이므로 먼저 슬라이딩 윈도우 사이즈를 3으로 하고, 끝까지 스캔한 다음, T에 해당하는 문자열을 발견하지 못한 경우 4, 다시 5, 6 … 으로 크기를 늘리는 방법이다.<br>\n이 풀이의 경우 O(n^2) 이므로 이렇게 풀이해선 안되며, 실제로 이렇게 구현해본 다음의 코드는 타임아웃이 발생한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">minWindow</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> s <span class=\"token punctuation\">,</span>t<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t<span class=\"token keyword\">def</span> <span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>s_substr_lst<span class=\"token punctuation\">,</span> t_lst<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\t<span class=\"token keyword\">for</span> t_elem <span class=\"token keyword\">in</span> t_lst <span class=\"token punctuation\">:</span>\n\t\t\t<span class=\"token keyword\">if</span> t_elem <span class=\"token keyword\">in</span> s_substr_lst <span class=\"token punctuation\">:</span>\n\t\t\t\ts_substr_lst<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>t_elem<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">else</span> <span class=\"token punctuation\">:</span>\n\t\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span>\n\n\t<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> s <span class=\"token keyword\">or</span> <span class=\"token keyword\">not</span> t <span class=\"token punctuation\">:</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">''</span>\n\n\twindow_size <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token keyword\">for</span> size <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>window_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\t<span class=\"token keyword\">for</span> left <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> size <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\t\ts_substr <span class=\"token operator\">=</span> s<span class=\"token punctuation\">[</span>left <span class=\"token punctuation\">:</span> left <span class=\"token operator\">+</span> size<span class=\"token punctuation\">]</span>\n\t\t\t<span class=\"token keyword\">if</span> contains<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>s_substr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\t\t\t<span class=\"token keyword\">return</span> s_substr\n\t<span class=\"token keyword\">return</span> <span class=\"token string\">''</span></code></pre></div>\n<p>여기서 중요한 부분은 contains() 함수인데, t의 문자를 하나씩 비교하며 슬라이딩 윈도우 내에 속한 문자를 다음과 같이 제거하는 방식으로 포함 여부를 판단했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">for</span> t_elem <span class=\"token keyword\">in</span> t_lst <span class=\"token punctuation\">:</span>\n\t<span class=\"token keyword\">if</span> t_elem <span class=\"token keyword\">in</span> s_substr_lst <span class=\"token punctuation\">:</span>\n\t\ts_substr_lst<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>t_elem<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">else</span> <span class=\"token punctuation\">:</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></code></pre></div>\n<p>만약 이미 제거되었거나 등의 이유로 문자가 없다면 False를 리턴하게 했다. 문자 단위의 포함 여부를 판별하는 것은 <code class=\"language-text\">반드시 일대일로 문자가 대응</code>되어야 한다는 점에서, 전체를 한 번에 비교하기 어렵고 정렬해서 풀이하기도 어렵다.</p>\n<h2 id=\"code-classlanguage-text풀이-2-투-포인터-슬라이딩-윈도우로-최적화code\" style=\"position:relative;\"><code class=\"language-text\">풀이 2. 투 포인터, 슬라이딩 윈도우로 최적화</code><a href=\"#code-classlanguage-text%ED%92%80%EC%9D%B4-2-%ED%88%AC-%ED%8F%AC%EC%9D%B8%ED%84%B0-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0%EB%A1%9C-%EC%B5%9C%EC%A0%81%ED%99%94code\" aria-label=\"code classlanguage text풀이 2 투 포인터 슬라이딩 윈도우로 최적화code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이런 유형의 문제는 투 포인터를 사용하면 O(n^2) 에서 <code class=\"language-text\">O(n)</code>으로 줄일 수 있다.<br>\n먼저, 다음과 같이 기본 변수를 정의해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">need <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\nmissing <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span></code></pre></div>\n<p>need는 필요한 문자 각각의 갯수, missing은 필요한 문자의 전체 개수로 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">for</span> right<span class=\"token punctuation\">,</span> char <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tmissing <span class=\"token operator\">-=</span> need<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span>\n\tneed<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token number\">1</span></code></pre></div>\n<p>이제 오른쪽 포인터인 right 값을 계속 늘려 나간다. 슬라이딩 윈도우의 크기가 점점 더 커지는 현애탁 된다. 여기서 enumerate(n, 1)은 1부터 시작한다는 의미다. 만약 현재 문자가 필요한 문자 need[char] 에 포함되어 있다면 전체 갯수인 missing을 1 감소하고, 해당 문자의 필요한 개수 need[char]도 1 감소한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">if</span> missing <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n\t<span class=\"token keyword\">while</span> left <span class=\"token operator\">&lt;</span> right <span class=\"token keyword\">and</span> need<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span>\n\t\tneed<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\tleft <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n</code></pre></div>\n<p>missing이 0이 되면, 즉 필요한 문자의 개수가 0이 된다면 이제 왼쪽 포인터를 더 줄일 수 있는지 살핀다. 기준은 음수인 경우다. 즉 왼쪽 포인터가 불필요한 문자를 가리키고 있다면 분명 음수일 것 이고, 0을 가리키는 위치까지 왼쪽 포인터를 이동한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">if</span> missing <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> end <span class=\"token keyword\">or</span> right <span class=\"token operator\">-</span> left <span class=\"token operator\">&lt;=</span> end <span class=\"token operator\">-</span> start <span class=\"token punctuation\">:</span>\n\t\tstart<span class=\"token punctuation\">,</span> end <span class=\"token operator\">=</span> left<span class=\"token punctuation\">,</span> right\n\tneed<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\tmissing <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\tleft <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></code></pre></div>\n<p>그렇게 missing이 0이 될 때까지의 오른쪽 포인터와, need[s[left]]가 0 이 될 때까지의 왼쪽 포인터를 정답으로 간주한다. 이 값은 더 작은 값을 찾을 때까지 유지하다가 가장 작은 값의 경우, 정답으로 슬라이싱 결과를 리턴한다. 전체 코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">minWindow</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tneed <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n\tmissing <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n\tleft <span class=\"token operator\">=</span> start <span class=\"token operator\">=</span> end <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n\t<span class=\"token comment\"># 오른쪽 포인터 이동</span>\n\t<span class=\"token keyword\">for</span> right<span class=\"token punctuation\">,</span> char <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\tmissing <span class=\"token operator\">-=</span> need<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span>\n\t\tneed<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n\n\t\t<span class=\"token comment\"># 필요 문자가 0이면 왼쪽 포인터 이동 판단</span>\n\t\t<span class=\"token keyword\">if</span> missing <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span>\n\t\t\t<span class=\"token keyword\">while</span> left <span class=\"token operator\">&lt;</span> right <span class=\"token keyword\">and</span> need<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span>\n\t\t\t\tneed<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\t\t\tleft <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\t\t\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> end <span class=\"token keyword\">or</span> right <span class=\"token operator\">-</span> left <span class=\"token operator\">&lt;=</span> end <span class=\"token operator\">-</span> start <span class=\"token punctuation\">:</span>\n\t\t\t\tstart<span class=\"token punctuation\">,</span> end <span class=\"token operator\">=</span> left<span class=\"token punctuation\">,</span> right\n\t\t\tneed<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\t\tmissing <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\t\tleft <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t<span class=\"token keyword\">return</span> s<span class=\"token punctuation\">[</span>start<span class=\"token punctuation\">:</span>end<span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"풀이-3-counter로-좀-더-편리한-풀이\" style=\"position:relative;\">풀이 3. Counter로 좀 더 편리한 풀이<a href=\"#%ED%92%80%EC%9D%B4-3-counter%EB%A1%9C-%EC%A2%80-%EB%8D%94-%ED%8E%B8%EB%A6%AC%ED%95%9C-%ED%92%80%EC%9D%B4\" aria-label=\"풀이 3 counter로 좀 더 편리한 풀이 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>같은 방식으로 풀되 missing == 0 대신 <code class=\"language-text\">Counter() 의 AND 연산</code>으로 다음과 같이 우아하게 비교가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">t_count <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">for</span> right<span class=\"token punctuation\">,</span> char <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tcurrent_count<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n\t<span class=\"token keyword\">while</span> current_count <span class=\"token operator\">&amp;</span> t_count <span class=\"token operator\">==</span> t_count <span class=\"token punctuation\">:</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>이렇게 지금까지 계산한 current_count 와 t_count의 AND 연산으로 모든 결과가 포함 되는지 여부를 확인 가능하다. 만약 요소가 하나라도 비어 있다면 AND 연산 결과는 t_count와 일치하지 않을 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">minWindow</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tt_count <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n\tcurrent_count <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\tstart <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-inf'</span><span class=\"token punctuation\">)</span>\n\tend <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inf'</span><span class=\"token punctuation\">)</span>\n\n\tleft <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n\t<span class=\"token comment\"># 오른쪽 포인터 이동</span>\n\t<span class=\"token keyword\">for</span> right<span class=\"token punctuation\">,</span> char <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\tcurrent_count<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n\t\t<span class=\"token comment\"># AND 연산 결과로 왼쪽 포인터 이동 판단</span>\n\t\t<span class=\"token keyword\">while</span> current_count <span class=\"token operator\">&amp;</span> t_count <span class=\"token operator\">==</span> t_count <span class=\"token punctuation\">:</span>\n\t\t\t<span class=\"token keyword\">if</span> right <span class=\"token operator\">-</span> left <span class=\"token operator\">&lt;</span> end <span class=\"token operator\">-</span> start <span class=\"token punctuation\">:</span>\n\t\t\t\tstart<span class=\"token punctuation\">,</span> end <span class=\"token operator\">=</span> left<span class=\"token punctuation\">,</span> right\n\t\t\tcurrent_count<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n\t\t\tleft <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n\t<span class=\"token keyword\">return</span> s<span class=\"token punctuation\">[</span>start<span class=\"token punctuation\">:</span>end<span class=\"token punctuation\">]</span> <span class=\"token keyword\">if</span> end <span class=\"token operator\">-</span> start <span class=\"token operator\">&lt;=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token keyword\">else</span> <span class=\"token string\">\"\"</span></code></pre></div>\n<p>그러나 아쉽게도, 풀이 3은 너무 느리게 실행(1924ms)된다. Counter 끼리 AND 연산으로 비교하는 과정 current_count &#x26; t_count 이 내부적으로 매우 무거운 연산이기 때문으로 추측된다. 풀이2는 반면, 108ms가 걸린다.</p>\n<h1 id=\"77-가장-긴-반복-문자-대체\" style=\"position:relative;\">77. 가장 긴 반복 문자 대체<a href=\"#77-%EA%B0%80%EC%9E%A5-%EA%B8%B4-%EB%B0%98%EB%B3%B5-%EB%AC%B8%EC%9E%90-%EB%8C%80%EC%B2%B4\" aria-label=\"77 가장 긴 반복 문자 대체 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>대문자로 구성된 문자열 s가 주어졌을 때 k번만큼의 변경으로 만들 수 있는, 연속으로 반복된 문자열의 가장 긴 길이를 출력하라.</p>\n<ul>\n<li>입력</li>\n</ul>\n<p>s = “AAABBC”, k = 2</p>\n<ul>\n<li>출력</li>\n</ul>\n<p>5</p>\n<ul>\n<li>설명</li>\n</ul>\n<p>B를 A로 각각 2번 변경하면 길이 5인 AAAAA를 만들 수 있다.</p>\n<h2 id=\"code-classlanguage-text풀이-1-투-포인터-슬라이딩-윈도우-counter를-모두-이용code\" style=\"position:relative;\"><code class=\"language-text\">풀이 1. 투 포인터, 슬라이딩 윈도우, Counter를 모두 이용</code><a href=\"#code-classlanguage-text%ED%92%80%EC%9D%B4-1-%ED%88%AC-%ED%8F%AC%EC%9D%B8%ED%84%B0-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9-%EC%9C%88%EB%8F%84%EC%9A%B0-counter%EB%A5%BC-%EB%AA%A8%EB%91%90-%EC%9D%B4%EC%9A%A9code\" aria-label=\"code classlanguage text풀이 1 투 포인터 슬라이딩 윈도우 counter를 모두 이용code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>오른쪽 포인터에서 왼쪽 포인터 위치를 뺸 다음, 윈도우 내 출현 빈도가 가장 높은 문자의 수를 뺀 값이 k와 같을 수 있는 수 중 가장 큰 최댓값이라 정의 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token builtin\">min</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> max_char_n <span class=\"token operator\">==</span> k</code></pre></div>\n<p>오른쪽 포인터 5에서 왼쪽 포인터 0을 뺸 다음, 출현 빈도가 가장 높은 문자인 A의 개수 3을 뺀 값, 즉 5 - 0 - 3 이 연산 횟수 k가 되며 이 값은 2가 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">left <span class=\"token operator\">=</span> right <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\ncounts <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> right <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tcounts<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>right <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\tmax_char_n <span class=\"token operator\">=</span> counts<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>왼쪽 포인터와 오른쪽 포인터를 0 으로 지정한 다음에 오른쪽 포인터 right는 게속 우측으로 한 칸씩 이동한다. 이 때 Counter() 를 이용해 가장 흔하게 등장하는 문자의 값을 계산해 나간다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> counts\nCounter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'B'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> counts<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> counts<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> counts<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">3</span></code></pre></div>\n<p>이 과정을 통해 <code class=\"language-text\">가장 흔하게 등장하는 문자의 개수</code>를 가져오게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">if</span> right <span class=\"token operator\">-</span> left <span class=\"token operator\">-</span> max_char_n <span class=\"token operator\">></span> k <span class=\"token punctuation\">:</span>\n\tcounts<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n\tleft <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></code></pre></div>\n<p>오른쪽 포인터는 계속 커지기 떄문에 최댓값을 추출하기 위해서는 왼쪽 포인터는 0에서 움직이지 않는 게 가장 좋다. 그러나 k 연산 횟수를 넘어선다면 어쩔 수 없이 left += 1 과 같이 왼쪽 포인터를 1 더 크게 한다. 이제 마지막으로 최대 길이가 되는 값을 찾는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">max_len <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>max_len<span class=\"token punctuation\">,</span> right <span class=\"token operator\">-</span> left<span class=\"token punctuation\">)</span></code></pre></div>\n<p>전체 코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">characterReplacement</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\tleft <span class=\"token operator\">=</span> right <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\tcounts <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> right <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n\t\tcounts<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>right <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\t<span class=\"token comment\"># 가장 흔하게 등장하는 문자 탐색</span>\n\t\tmax_char_n <span class=\"token operator\">=</span> counts<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n\t\t<span class=\"token comment\"># k 초과시 왼쪽 포인터 이동</span>\n\t\t<span class=\"token keyword\">if</span> right <span class=\"token operator\">-</span> left <span class=\"token operator\">-</span> max_char_n <span class=\"token operator\">></span> k <span class=\"token punctuation\">:</span>\n\t\t\tcounts<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n\t\t\tleft <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t<span class=\"token keyword\">return</span> right <span class=\"token operator\">-</span> left</code></pre></div>","frontmatter":{"title":"Python Coding Interview - 5부 20장 | 슬라이딩 윈도우","summary":"파이썬 알고리즘 인터뷰 책에서 5부 20장의 내용을 읽고 요약정리","date":"2023.02.25.","categories":["Coding Test","Python"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVQoz42SW28SURSF+bfGGOOTL14S64MvNsTEB1AUsG2waLFaoGiaRopt5WKLAxQ6DMO1XK3VamobZg6fYYCBojY+rOyTfXLWWWvvZdHrCiNoQ+gHebRGwTyPYNwP63TfONcVLCbZsGE+KGXQqvtoTRWtXULrlNHTMUR41ahaq3juU23IYzmnsE/aVKGSRSzYEBtBeooEiTA96SOikkOoaXQ5id6vhRR6OXuxwtOqTC22Te/dEmI3wq/cLqfb65ztbHJSynEmRSESQoSD9CJvEcktw8WYcGI2oqFwUswib20Zll7a5/A+dONzevG5XrD8dJ5ns3aiyyvQVulW5b/McKIxUsmXEt/3JeasDr6lojRlmVpeRW/nkOI7+OzzcFimW8v/OcNxo2CSikaBY1liyeHh59caR50Wx/UGHNZp5DMEXB7j027tIoXFDCL2Hj37CdFS+ZFP4bY+pryXoJ5N00xKdBJx4qE1Xj9ZMAlHrnRzyyPCSg49E0cr7Q2XpOB+4OLG5VvcuXqX21dmuHntHtcvzbD5JjRWOEE2ZVkZZK6u0GsoHClZFp2vsN138sjqNuCwurHNuoitf4CWOsjsPxWOUn+Qh2aBqvSZgHeVwGIA/3O/gaA3yIrHT3RtY0DwP4STuewvp9dUTYhhnczttOXfd3lZS5/rBRYAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/0c8985426a86d22cc5bd019e68c03210/07788/thumbnail-coding-test.png","srcSet":"/static/0c8985426a86d22cc5bd019e68c03210/b82c5/thumbnail-coding-test.png 336w,\n/static/0c8985426a86d22cc5bd019e68c03210/9de5e/thumbnail-coding-test.png 671w,\n/static/0c8985426a86d22cc5bd019e68c03210/07788/thumbnail-coding-test.png 1342w","sizes":"(min-width: 1342px) 1342px, 100vw"},"sources":[{"srcSet":"/static/0c8985426a86d22cc5bd019e68c03210/7a2cc/thumbnail-coding-test.webp 336w,\n/static/0c8985426a86d22cc5bd019e68c03210/e8438/thumbnail-coding-test.webp 671w,\n/static/0c8985426a86d22cc5bd019e68c03210/f0ee1/thumbnail-coding-test.webp 1342w","type":"image/webp","sizes":"(min-width: 1342px) 1342px, 100vw"}]},"width":1342,"height":806}},"publicURL":"/static/0c8985426a86d22cc5bd019e68c03210/thumbnail-coding-test.png"}}}}]}},"pageContext":{"slug":"/CI_Part5_Ch20/"}},"staticQueryHashes":[]}